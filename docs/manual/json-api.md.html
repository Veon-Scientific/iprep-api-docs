<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>i.prep api v2.0.0-beta</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>i.prep api <h6 class=version>v2.0.0-beta</h6></h1>


<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Command_Wrapper">Command Wrapper </a></li>
<li><a href="#Assign_Object_to_Zone">Assign Object to Zone </a></li>
<li><a href="#Capture_Zone_Calibration">Capture Zone Calibration </a></li>
<li><a href="#Get_Deck_Calibration">Get Deck Calibration </a></li>
<li><a href="#Get_Motor_Position">Get Motor Position </a></li>
<li><a href="#Get_System_Status">Get System Status </a></li>
<li><a href="#Go_to_Coordinate">Go to Coordinate </a></li>
<li><a href="#Go_Relative">Go Relative </a></li>
<li><a href="#Go_Absolute">Go Absolute </a></li>
<li><a href="#Home">Home </a></li>
<li><a href="#Pause_Script">Pause Script </a></li>
<li><a href="#Reset_Motors">Reset Motors </a></li>
<li><a href="#Run_Script">Run Script </a></li>
<li><a href="#Remove_Zone_Object">Remove Zone Object </a></li>
<li><a href="#Resume_Script">Resume Script </a></li>
<li><a href="#Serial_Connect">Serial Connect </a></li>
<li><a href="#Serial_Exchange">Serial Exchange </a></li>
<li><a href="#Serial_Read">Serial Read </a></li>
<li><a href="#Serial_Write">Serial Write </a></li>
<li><a href="#Set_Axes_Power">Set Axes Power </a></li>
<li><a href="#Set_Deck_Dimension">Set Deck Dimension </a></li>
<li><a href="#Set_Zone_Position">Set Zone Position </a></li>
<li><a href="#Stop_Script">Stop Script </a></li>
<li><a href="#Validate_Script">Validate Script </a></li>
</ul>


<h2>Manual</h2>
<ul class="nowrap">
  <li><strong>json-api</strong></li>
  <li><a href="../manual/labware.md.html">labware</a></li>
  <li><a href="../manual/pylabrobot.md.html">pylabrobot</a></li>
  <li><a href="../manual/python-example.md.html">python-example</a></li>
</ul>
<h2>Libraries</h2>
<ul class="nowrap">
  <li><a href="../libraries/veon.html">veon</a></li>
  <li><a href="../libraries/flow.html">flow</a></li>
  <li><a href="../libraries/serial.html">serial</a></li>
  <li><a href="../libraries/deck.html">deck</a></li>
</ul>
<h2>Examples</h2>
<ul class="nowrap">
  <li><a href="../examples/basic-liquidhandling.lua.html">basic-liquidhandling.lua</a></li>
  <li><a href="../examples/flow.lua.html">flow.lua</a></li>
  <li><a href="../examples/movement.lua.html">movement.lua</a></li>
</ul>

</div>

<div id="content">


<h1>JSON API</h1>
<p><a name="Command_Wrapper"></a></p>
<h2>Command Wrapper</h2>


<ul>
    <li><code>api_version</code> - Use the latest api version available, e.g. <code>2.0.0</code>.</li>
    <li><code>ref_id</code> - Custom string field that is echoed back in the response.</li>
    <li><code>command</code> - Command to execute.</li>
    <li><code>payload</code> - Payload json for the command.</li>
</ul>


<h3>Example Request</h3>


<pre>
{
    <span class="string">"api_version"</span>: <span class="string">"2.0.0"</span>,
    <span class="string">"ref_id"</span>: <span class="number">1</span>,
    <span class="string">"command"</span>: <span class="string">"go"</span>,
    <span class="string">"payload"</span>: {
        <span class="string">"zone"</span>: <span class="string">"Zone1"</span>,
        <span class="string">"coord"</span>: <span class="string">"A1"</span>
    }
}
</pre>


<h3>Example Response</h3>


<pre>
{
    <span class="string">"api_version"</span>: <span class="string">"2.0.0"</span>,
    <span class="string">"ref_id"</span>: <span class="number">1</span>,
    <span class="string">"success"</span>: <span class="keyword">true</span>
}
</pre>


<h3>Example Response</h3>


<pre>
{
    <span class="string">"api_version"</span>: <span class="string">"2.0.0"</span>,
    <span class="string">"ref_id"</span>: <span class="number">1</span>,
    <span class="string">"success"</span>: <span class="keyword">true</span>,
    <span class="string">"payload"</span>:
    {
        <span class="string">"z"</span>: <span class="number">24.0</span>
    }
}
</pre>


<hr/>

<h1>Commands</h1>
<p><a name="Assign_Object_to_Zone"></a></p>
<h2>Assign Object to Zone</h2>

<p><strong>Command:</strong> <code>assign_zone_object</code></p>

<p>Sets the object data for the given zone.</p>

<p>The <a href="https://veon-scientific.github.io/obprep/">i.prep object generator</a> can generate uniform objects. </p>

<p>Lua equivalent: N/A</p>

<h3>Example</h3>

<p><strong>Payload</strong></p>


<pre>
{
    <span class="string">"zone"</span>: <span class="string">"Zone1"</span>,
    <span class="string">"object_data"</span>: {
        <span class="string">"version"</span>: <span class="string">"1.0.0"</span>,
        <span class="string">"uuid"</span>: <span class="string">"60eb2e34-75f8-4571-ac39-17c2f00fc333"</span>,
        <span class="string">"label"</span>: <span class="string">"Empty Example Plate"</span>,
        <span class="string">"plateData"</span>: {
          <span class="string">"version"</span>: <span class="string">"1.0.0"</span>,
          <span class="string">"uuid"</span>: <span class="string">"72713be2-1ffe-430e-ba69-350b39402e56"</span>,
          <span class="string">"displayName"</span>: <span class="string">"Empty Example Plate"</span>,
          <span class="string">"dimensions"</span>: {
            <span class="string">"x"</span>: <span class="number">127.76</span>,
            <span class="string">"y"</span>: <span class="number">85.48</span>,
            <span class="string">"z"</span>: <span class="number">15</span>
          },
          <span class="string">"locations"</span>: [
            {
              <span class="string">"uuid"</span>: <span class="string">"e21c8326-18e1-465c-8a84-266b2aadc4b0"</span>,
              <span class="string">"x"</span>: <span class="number">15</span>,
              <span class="string">"y"</span>: <span class="number">70.48</span>,
              <span class="string">"coord"</span>: <span class="string">"A1"</span>,
              <span class="string">"radius"</span>: <span class="number">5</span>
            }
          ],
          <span class="string">"UUID"</span>: <span class="string">"72713be2-1ffe-430e-ba69-350b39402e56"</span>
        },
        <span class="string">"items"</span>: [
          {
            <span class="string">"uuid"</span>: <span class="string">"3a49012f-17f8-4b1f-b205-172d625940b2"</span>,
            <span class="string">"label"</span>: <span class="string">"A1"</span>,
            <span class="string">"item"</span>: {
              <span class="string">"version"</span>: <span class="string">"1.0.0"</span>,
              <span class="string">"uuid"</span>: <span class="string">"cdb4fe1c-96f8-4e0f-82c9-c291312f3611"</span>,
              <span class="string">"type"</span>: <span class="string">"well"</span>,
              <span class="string">"label"</span>: <span class="string">"A1"</span>,
              <span class="string">"displaySettings"</span>: {
                <span class="string">"sprite"</span>: null
              },
              <span class="string">"physicalProperties"</span>: {
                <span class="string">"radius"</span>: <span class="number">5</span>,
                <span class="string">"depth"</span>: <span class="number">12</span>,
                <span class="string">"capacity"</span>: <span class="number">200</span>,
                <span class="string">"consumable_clearance"</span>: <span class="number">2</span>,
                <span class="string">"travel_clearance"</span>: <span class="number">0</span>,
                <span class="string">"length"</span>: <span class="number">0</span>
              },
              <span class="string">"runtimeData"</span>: {
                <span class="string">"Volume"</span>: <span class="number">0</span>,
                <span class="string">"HasBeenAssigned"</span>: <span class="keyword">false</span>,
                <span class="string">"Consumed"</span>: <span class="keyword">false</span>,
                <span class="string">"Optional"</span>: <span class="keyword">false</span>,
                <span class="string">"IsSample"</span>: <span class="keyword">false</span>,
                <span class="string">"Exclude"</span>: <span class="keyword">false</span>,
                <span class="string">"Coordinate"</span>: null,
                <span class="string">"CustomID"</span>: null
              },
              <span class="string">"UUID"</span>: <span class="string">"cdb4fe1c-96f8-4e0f-82c9-c291312f3611"</span>
            },
            <span class="string">"locationId"</span>: <span class="string">"e21c8326-18e1-465c-8a84-266b2aadc4b0"</span>
          }
        ],
        <span class="string">"displaySettings"</span>: {
          <span class="string">"markerLabel"</span>: <span class="string">""</span>,
          <span class="string">"displayCategory"</span>: <span class="string">"Wells"</span>,
          <span class="string">"prefab"</span>: <span class="string">"transparent"</span>
        },
        <span class="string">"runtimeSettings"</span>: {
          <span class="string">"CustomID"</span>: <span class="string">""</span>
        }
    }
}
</pre>


<hr/>

<p><a name="Capture_Zone_Calibration"></a></p>
<h2>Capture Zone Calibration</h2>

<p><strong>Command:</strong> <code>capture_zone_calibration</code></p>

<p>Sets either the given zone or z axis calibration value(s) to the current motor position.</p>

<p>Zone options:</p>

<ul>
    <li><code>Zone1</code></li>
    <li><code>Zone2</code></li>
    <li><code>Zone3</code></li>
    <li><code>Z Axis</code></li>
</ul>

<p>When the <code>use_calibration_probe</code> is set the z axis motor position is offset by the configured calibration probe length.</p>

<p>Does not require a system reset.</p>

<p>Lua equivalent: N/A</p>

<h3>Example</h3>

<p><strong>Payload</strong></p>


<pre>
{
    <span class="string">"zone_name"</span>: <span class="string">"Zone1"</span>,
    <span class="string">"use_calibration_probe"</span>: <span class="keyword">true</span>
}
</pre>


<hr/>

<p><a name="Get_Deck_Calibration"></a></p>
<h2>Get Deck Calibration</h2>

<p><strong>Command:</strong> <code>get_deck_calibration</code></p>

<p>Gets the current deck calibration.</p>

<p>Lua equivalent: N/A</p>

<h3>Example</h3>

<p><strong>Payload</strong></p>

<p>N/A</p>

<p><strong>Response</strong></p>


<pre>
{
    <span class="string">"deck"</span>: {
        <span class="string">"z"</span>: <span class="number">31.579</span>
    },
    <span class="string">"zones"</span>: {
        <span class="string">"EjectLeft"</span>: {
            <span class="string">"x"</span>: <span class="number">0.0</span>,
            <span class="string">"y"</span>: <span class="number">300.0</span>
        },
        <span class="string">"EjectRight"</span>: {
            <span class="string">"x"</span>: <span class="number">0.0</span>,
            <span class="string">"y"</span>: <span class="number">30.0</span>
        },
        <span class="string">"Zone1"</span>: {
            <span class="string">"x"</span>: <span class="number">17.0225</span>,
            <span class="string">"y"</span>: <span class="number">210.8</span>
        },
        <span class="string">"Zone2"</span>: {
            <span class="string">"x"</span>: <span class="number">16.5675</span>,
            <span class="string">"y"</span>: <span class="number">121.08</span>
        },
        <span class="string">"Zone3"</span>: {
            <span class="string">"x"</span>: <span class="number">16.3225</span>,
            <span class="string">"y"</span>: <span class="number">29.755000000000003</span>
        }
    }
}
</pre>


<hr/>

<p><a name="Get_Motor_Position"></a></p>
<h2>Get Motor Position</h2>

<p><strong>Command:</strong> <code>get_motor_position</code></p>

<p>Gets the current motor position.</p>

<p>Lua equivalent: N/A</p>

<h3>Example</h3>

<p><strong>Payload</strong></p>

<p>N/A</p>

<p><strong>Response</strong></p>


<pre>
{
    <span class="string">"x"</span>: <span class="number">10</span>,
    <span class="string">"y"</span>: <span class="number">15</span>,
    <span class="string">"z"</span>: <span class="number">200</span>
}
</pre>


<hr/>

<p><a name="Get_System_Status"></a></p>
<h2>Get System Status</h2>

<p><strong>Command:</strong> <code>status</code></p>

<p>Gets the current system status.</p>

<p>Lua equivalent: N/A</p>

<h3>Example</h3>

<p><strong>Payload</strong></p>

<p>N/A</p>

<p><strong>Response</strong></p>


<pre>
{
    <span class="string">"ref_id"</span>: <span class="number">1</span>,
    <span class="string">"success"</span>: <span class="keyword">true</span>,
    <span class="string">"payload"</span>: {
        <span class="string">"metadata"</span>: {
            <span class="string">"api_version"</span>: <span class="string">"1.0.0"</span>,
            <span class="string">"jupiter_version"</span>: <span class="string">"2.0.0"</span>,
        },
        <span class="string">"serial"</span>: <span class="string">"VS-0524-00000"</span>,
        <span class="string">"motor"</span>: {
            <span class="string">"disabled"</span>: <span class="keyword">false</span>,
            <span class="string">"x"</span>: <span class="number">0</span>,
            <span class="string">"y"</span>: <span class="number">20</span>,
            <span class="string">"z"</span>: <span class="number">0</span>
        },
        <span class="string">"device"</span>: {
            <span class="string">"serial"</span>: <span class="string">"82555645"</span>
        },
        <span class="string">"door"</span>: {
            <span class="string">"disabled"</span>: <span class="keyword">false</span>,
            <span class="string">"open"</span>: <span class="keyword">true</span>
        },
        <span class="string">"waste"</span>: {
            <span class="string">"disabled"</span>: <span class="keyword">false</span>,
            <span class="string">"present"</span>: <span class="keyword">true</span>
        },
        <span class="string">"buttons"</span>: {
            <span class="string">"disabled"</span>: <span class="keyword">false</span>
        }
    }
}
</pre>


<hr/>

<p><a name="Go_to_Coordinate"></a></p>
<h2>Go to Coordinate</h2>

<p><strong>Command:</strong> <code>go</code></p>

<p>Moves the pipette/tip to the given zone coordinate.</p>

<p>Lua equivalent: <a href="../libraries/veon.html#gozone">veon.gozone</a></p>

<h3>Example</h3>

<p><strong>Payload</strong></p>


<pre>
{
    <span class="string">"zone"</span>: <span class="string">"Zone1"</span>,
    <span class="string">"coord"</span>: <span class="string">"A1"</span>
}
</pre>


<hr/>

<p><a name="Go_Relative"></a></p>
<h2>Go Relative</h2>

<p><strong>Command:</strong> <code>go_rel</code></p>

<p>Moves the pipette/tip relatively.</p>

<p>Lua equivalent: <a href="../libraries/veon.html#gorel">veon.gorel</a></p>

<h3>Example</h3>

<p><strong>Payload</strong></p>


<pre>
{
    <span class="string">"x"</span>: <span class="number">0.0</span>,
    <span class="string">"y"</span>: <span class="number">0.0</span>,
    <span class="string">"z"</span>: <span class="number">7.4</span>
}
</pre>


<hr/>

<p><a name="Go_Absolute"></a></p>
<h2>Go Absolute</h2>

<p><strong>Command:</strong> <code>go_abs</code></p>

<p>Moves the pipette/tip to the absolute position.</p>

<p>Lua equivalent: <a href="../libraries/veon.html#goabs">veon.goabs</a></p>

<h3>Example</h3>

<p><strong>Payload</strong></p>


<pre>
{
    <span class="string">"x"</span>: <span class="number">50.0</span>,
    <span class="string">"y"</span>: <span class="number">75.0</span>,
    <span class="string">"z"</span>: <span class="number">20.0</span>
}
</pre>


<hr/>

<p><a name="Home"></a></p>
<h2>Home</h2>

<p><strong>Command:</strong> <code>home</code></p>

<p>Moves the system to the home position.</p>

<p>Lua equivalent: <a href="../libraries/veon.html#home">veon.home</a></p>

<h3>Example</h3>

<p><strong>Payload</strong></p>

<p>N/A</p>

<hr/>

<p><a name="Pause_Script"></a></p>
<h2>Pause Script</h2>

<p><strong>Command:</strong> <code>pause</code></p>

<p>Pauses the script that is currently running when the script command being executed completes.</p>

<p>Lua equivalent: <a href="../libraries/veon.html#pause">veon.pause</a></p>

<h3>Example</h3>

<p><strong>Payload</strong></p>

<p>N/A</p>

<hr/>

<p><a name="Reset_Motors"></a></p>
<h2>Reset Motors</h2>

<p><strong>Command:</strong> <code>reset_motors</code></p>

<p>Resets the motors after either they have been powered off or a stall has occurred.</p>

<p>Lua equivalent: N/A</p>

<h3>Example</h3>

<p><strong>Payload</strong></p>

<p>N/A</p>

<hr/>

<p><a name="Run_Script"></a></p>
<h2>Run Script</h2>

<p><strong>Command:</strong> <code>run</code></p>

<p>Run the given script.</p>

<p>Lua equivalent: N/A</p>

<h3>Example</h3>

<p><strong>Payload</strong></p>


<pre>
{
    <span class="string">"script_id"</span>: <span class="string">"demoscript"</span>,
    <span class="string">"script"</span>: <span class="string">"veon.acquiretip('Zone1', 'A1')\nveon.aspirate('Zone2', 'A1', 12.0, 200.0, false)\nveon.dispense('Zone3', 'A1', 12.0, 200.0, false)\nveon.eject(2)"</span>
}
</pre>


<hr/>

<p><a name="Remove_Zone_Object"></a></p>
<h2>Remove Zone Object</h2>

<p><strong>Command:</strong> <code>remove_zone</code></p>

<p>Removes the object in the given zone so that it can be assigned a new object.</p>

<p>Lua equivalent: N/A</p>

<h3>Example</h3>

<p><strong>Payload</strong></p>


<pre>
{
    <span class="string">"zone_name"</span>: <span class="string">"Zone2"</span>
}
</pre>


<hr/>

<p><a name="Resume_Script"></a></p>
<h2>Resume Script</h2>

<p><strong>Command:</strong> <code>resume</code></p>

<p>Resumes the currently paused script.</p>

<p>Lua equivalent: N/A</p>

<h3>Example</h3>

<p><strong>Payload</strong></p>

<p>N/A</p>

<hr/>

<p><a name="Serial_Connect"></a></p>
<h2>Serial Connect</h2>

<p><strong>Command:</strong> <code>serial_connect</code></p>

<p>Connects to the serial device on the instrument.</p>

<p>The delimeter is auto-appended to all write commands and is used by the read to determine when a message ends.</p>

<p>Lua equivalent: N/A</p>

<h3>Example</h3>

<p><strong>Payload</strong></p>


<pre>
{
    <span class="string">"baud_rate"</span>: <span class="number">115200</span>,
    <span class="string">"delimiter"</span>: <span class="string">"\r"</span>,
    <span class="string">"timeout"</span>: <span class="number">5000</span>
}
</pre>


<hr/>

<p><a name="Serial_Exchange"></a></p>
<h2>Serial Exchange</h2>

<p><strong>Command:</strong> <code>serial_exchange</code></p>

<p>Sends a message and returns the response.</p>

<p>Lua equivalent: N/A</p>

<h3>Example</h3>

<p><strong>Payload</strong></p>


<pre>
{
    <span class="string">"message"</span>: <span class="string">"Q?"</span>
}
</pre>


<hr/>

<p><a name="Serial_Read"></a></p>
<h2>Serial Read</h2>

<p><strong>Command:</strong> <code>serial_read</code></p>

<p>Reads from the serial device.</p>

<p>Lua equivalent: N/A</p>

<h3>Example</h3>

<p><strong>Payload</strong></p>

<p>N/A</p>

<hr/>

<p><a name="Serial_Write"></a></p>
<h2>Serial Write</h2>

<p><strong>Command:</strong> <code>serial_write</code></p>

<p>Writes to the serial device.</p>

<p>Lua equivalent: N/A</p>

<h3>Example</h3>

<p><strong>Payload</strong></p>


<pre>
{
    <span class="string">"message"</span>: <span class="string">"Q?\r"</span>
}
</pre>


<hr/>

<p><a name="Set_Axes_Power"></a></p>
<h2>Set Axes Power</h2>

<p><strong>Command:</strong> <code>set_axes_power</code></p>

<p>Turns the power to the motors on or off depending on the <code>state</code> parameter.</p>

<p>The system must be <a href="#Home">homed</a> after being powered off and on.</p>

<p>Lua equivalent: N/A</p>

<h3>Example</h3>

<p><strong>Payload</strong></p>


<pre>
{
    <span class="string">"state"</span>: <span class="keyword">false</span>
}
</pre>


<hr/>

<p><a name="Set_Deck_Dimension"></a></p>
<h2>Set Deck Dimension</h2>

<p><strong>Command:</strong> <code>set_deck_dimension</code></p>

<p>Sets the deck z axis dimension to the given value.</p>

<p>Does not require a system reset.</p>

<p>Lua equivalent: N/A</p>

<h3>Example</h3>

<p><strong>Payload</strong></p>


<pre>
{
    <span class="string">"z"</span>: <span class="string">"91.4"</span>
}
</pre>


<hr/>

<p><a name="Set_Zone_Position"></a></p>
<h2>Set Zone Position</h2>

<p><strong>Command:</strong> <code>set_zone_position</code></p>

<p>Sets the given zone's position.</p>

<p>Does not require a system reset.</p>

<p>Lua equivalent: N/A</p>

<h3>Example</h3>

<p><strong>Payload</strong></p>


<pre>
{
    <span class="string">"zone_name"</span>: <span class="string">"Zone1"</span>,
    <span class="string">"position"</span>: {
        <span class="string">"x"</span>: <span class="string">"16.4"</span>,
        <span class="string">"y"</span>: <span class="string">"240"</span>
    }
}
</pre>


<hr/>

<p><a name="Stop_Script"></a></p>
<h2>Stop Script</h2>

<p><strong>Command:</strong> <code>stop</code></p>

<p>Stops the script that is currently running when it reaches the end of the currently executing command.</p>

<p>Lua equivalent: N/A</p>

<h3>Example</h3>

<p><strong>Payload</strong></p>

<p>N/A</p>

<hr/>

<p><a name="Validate_Script"></a></p>
<h2>Validate Script</h2>

<p><strong>Command:</strong> <code>validate</code></p>

<p>Dry run the given script to validate it.</p>

<p>Lua equivalent: N/A</p>

<h3>Example</h3>

<p><strong>Payload</strong></p>


<pre>
{
    <span class="string">"script_id"</span>: <span class="string">"demoscript"</span>,
    <span class="string">"script"</span>: <span class="string">"veon.acquiretip('Zone1', 'A1')\nveon.aspirate('Zone2', 'A1', 12.0, 200.0, false)\nveon.dispense('Zone3', 'A1', 12.0, 200.0, false)\nveon.eject(2)"</span>
}
</pre>



</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/lunarmodules/LDoc">LDoc 1.5.0</a></i>
<i style="float:right;">Last updated 2024-10-11 15:03:46 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
